Версия 1.0.6
Получение ближайшей станции метро по координатам
Получение списка ближайших районов
Получение города по координатам
Получение количества клиник
Получение отзывов о враче
Получение отзывов о клинике
Получение полной информации о враче
Получение полной информации о враче по альясу
Получение полной информации о клинике
Получение полной информации о клинике по альясу
Получение рекомендаций перед приёмом
Получение списка ближайших станций метро
Получение списка врачей
Получение списка всех врачей
Получение списка городов
Получение списка диагностических услуг и подуслуг
Получение списка клиник
Получение списка округов Москвы
Получение списка районов
Получение списка слотов по врачам и диагностикам
Получение списка специальностей
Получение списка станций метро
Получение списка улиц
Получение списка услуг
Получение списка элементов для поиска (автодополнение)
Получение статистики
Получение статической страницы
Получение список изображений клиники
Создание заявки
Список изменений
Метод 	Изменение 	"Задача
в JIRA"
"Версия 1.0.6: Получение полной
информации о клинике"	Изменен список возвращаемых параметров
"Версия 1.0.6: Получение списка
клиник"	Изменен список возвращаемых параметров
"Версия 1.0.6: Получение полной
информации о клинике по альясу"	Добавлен новый метод получения информации о клинике по алиасу
"Версия 1.0.6: Получение полной
информации о клинике по яльясу"	Добавлен новый блок к клинике - список цен по услугам
Версия 1.0.6: Получение списка услуг 	Добавил новый метод получения списка услуг
"Версия 1.0.6: Получение списка
клиник"	Добавлен параметр Order в список клиник
"Версия 1.0.6: Получение списка
врачей"	Убрана возможность сортировки по internal_rating
"Версия 1.0.6: Получение списка
слотов врачей и диагностик"	"Убрали неактуальные условия проверки, слоты выдаются теперь через модели
DoctorClinicModel и DiagnosticClnicModel"
"Версия 1.0.6: Получение списка
врачей"	"Добавлен массив ClinicsInfo с данными по клинике, специальности, ценам и
внутреннему рейтингу"	DDP-222
"Версия 1.0.6: Получение полной
информации о враче"	"Добавлен массив ClinicsInfo с данными по клинике, специальности, ценам и
внутреннему рейтингу"	DDP-222
"Версия 1.0.6: Получение полной
информации о враче по альясу"	"Добавлен массив ClinicsInfo с данными по клинике, специальности, ценам и
внутреннему рейтингу"	DDP-222


"Версия 1.0.6: Получение списка
врачей"	"Изменен массив ClinicsInfo, добалены координаты, станции и изменена структура
массива"	DDP-256
"Версия 1.0.6: Получение полной
информации о враче"	"Изменен массив ClinicsInfo, добалены координаты, станции и изменена структура
массива"	DDP-256
"Версия 1.0.6: Получение полной
информации о враче по альясу"	"Изменен массив ClinicsInfo, добалены координаты, станции и изменена структура
массива"	DDP-256
"Версия 1.0.6: Получение полной
информации о клинике"	Добавлен массив Stations с информацией по станциям метро 	DDP-256
"Версия 1.0.6: Получение полной
информации о клинике
Версия 1.0.6: Получение полной
информации о клинике по альясу"	"Добавлен признак isActive с состоянием активности клиники.
Учитывается наличие активного контракта для городов, у которых есть
соответствующая настройка для поля ""Способ показа докторов в API""."	DD-4907

Получение ближайшей станции метро по координатам
URL: /nearestStationGeo/lat/$lat/lng/$lng/city/$city
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
$lat 	Строка 	Широта 	Да 	Да
$lng 	Число 	Долгота 	Да 	Да
$city 	Число 	Алиас города 	Нет 	Да

Результат запроса
Массив Station, содержащий информацию о ближайшем метро
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор станции метро
Alias 	строка 	Наименование станции для ЧПУ
Name 	строка 	Наименование станции
LineName 	строка 	Имя линии станций метро
LineColor 	строка 	Цвет линии станций метро
CityId 	Число 	Уникальный идентификатор города
DistrictIds 	массив 	Идентификаторы районов

Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/nearestStationGeo/lat/55.773505/lng/37.5
45518/city/msk
Пример результата запроса
{
"Station":{
"Id":"15",
"Name":"",
"LineName":"-",
"LineColor":"92007b",
"CityId":"1",
"Alias":"begovaya",
"DistrictIds":["6","26"]
}
}
Получение списка ближайших районов
URL: /nearDistricts/id/$districtID/limit/$limit
Входные параметры
Параметр 	Тип значения 	Суть 	В теле GET запроса 	Обязателен
districtID 	Число 	Уникальный числовой идентификатор района 	Да 	Да
limit 	Число 	Максимальное число ближайших районов при выборке 	Да 	Нет

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/nearDistricts/id/1/limit/10
Результат запроса
Массив DistrictList, содержащий информацию о каждом районе
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор района
Alias 	строка 	Наименование района для ЧПУ
Name 	строка 	Наименование района
Area 	массив 	Округ (только для Москвы)

Пример результата запроса
"DistrictList":
[
{
"Id":"2",
"Alias":"basmannyj",
"Name":"",
"Area":
{
"Id": "1",
"Alias": "cao",
"Name": "",
"FullName": " "
}
},
...
]
Пример ошибок запроса
В случае ошибки в ID района ответ должен быть вида:
{
"DistrictList": [0]
}
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение города по координатам
URL: /detectCity/
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/detectCity/lat/55.1042/lng/36.6170
Результат запроса
Объект City, содержащий информацию о городе.
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор города
Name 	строка 	Наименование города
Alias 	строка 	Наименование города для ЧПУ
Phone 	Строка 	Номер телефона
Latitude 	float 	Широта
Longitude 	float 	Долгота
SearchType 	Число 	"Тип поиска (для клиники, врачей)
1 - Поиск по району
2 - Поиск по метро
3 - Поиск по карте метро"
HasDiagnostic 	bool 	Наличие диагностических центров в городе
TimeZone 	Число 	Временная зона

Пример результата запроса
{
"City": {
"Id":"1",
"Name":"",
"Alias":"msk",
"Phone": "74951234567",
"Latitude":"55.755826",
"Longitude":"37.6173",
"SearchType": 1,
"HasDiagnostic": true,
"TimeZone": 0
}
}
Пример ошибок запроса
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение количества клиник
URL: /clinic/count/city/$cityID/type/$clinicType/stations/$stationsID/speciality/$specialityID
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
cityID 	Число 	Идентификатор города 	Да 	Да
clinicType 	Массив чисел 	Тип клиники (1 - Клиника, 2 - Диаг. центр, 3 - Частный врач) 	Нет 	Да
stations 	Массив чисел 	Идентификатор станций метро 	Нет 	Да
speciality 	Число 	Идентификатор специальности 	Нет 	Да

Результат запроса
Поле 	Тип значения 	Суть
Total 	число 	Доступное число в базе по этим параметрам
ClinicSelected 	число 	Кол-во клиник по выбранным параметрам с учетом станций метро

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/clinic/count/city/1/type/1,3/stations/1,2/sp
eciality/67
Пример результата запроса
{
"Total": "94",
"ClinicSelected": "1"
}
Пример ошибок запроса
В случае ошибки в номере города, должны получить ответ:
{
"Total": "0",
"ClinicSelected": "0"
}
В случае ошибки в типе клиники (1 - Клиника, 2 - Диаг. центр, 3 - Частный врач), должны получить ответ:
{
"Total": "452",
"ClinicSelected": "7"
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение отзывов о враче
URL: /review/doctor/$ID
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/review/doctor/167
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
ID 	Число 	ID врача 	Да 	Да

Результат запроса
Массив ReviewList, содержащий отзывы о враче
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор отзыва
Client 	строка 	Каноническое имя клиента
RatingQlf 	число 	Оцененная посетителем квалификация
RatingAtt 	число 	Оцененное посетителем отношение
RatingRoom 	число 	Оцененные посетителем цена-качество
Text 	строка 	Комментарий посетителя
Date 	дата 	Дата отзыва
DoctorId 	число 	Идентификатор врача
ClinicId 	число 	Идентификатор клиники


Answer 	строка 	Текст ответа клиники на отзыв
WaitingTime 	число 	Ожидание в очереди (в минутах от 0 до 60)
RatingDoctor 	число 	Оценка врачу (от 0 до 10)
RatingClinic 	число 	Оценка клинике (от 0 до 10)
TagClinicLocation 	bool 	Удобно добираться
TagClinicService 	bool 	Качественное обслуживание
TagClinicCost 	bool 	Доступные цены
TagClinicRecommend 	bool 	Вы рекомендуете клинику
TagDoctorAttention 	bool 	Врач был внимателен
TagDoctorExplain 	bool 	Врач понятно объяснял
TagDoctorQuality 	bool 	Цена соответствует качеству
TagDoctorRecommend 	bool 	Вы рекомендуете врача

Пример результата запроса
{
"ReviewList": [
{
"Id": 9185,
"Client": "",
"RatingQlf": 4,
"RatingAtt": 5,
"RatingRoom": 4,
"Text": "",
"Date": "30.10.2013",
"DoctorId": 167,
"ClinicId": 100,
"Answer": null,
"WaitingTime": 5,
"RatingDoctor": 5,
"RatingClinic": 5,
"TagClinicLocation": true,
"TagClinicService": false,
"TagClinicCost": true,
"TagClinicRecommend": true,
"TagDoctorAttention": false,
"TagDoctorExplain": true,
"TagDoctorQuality": true,
"TagDoctorRecommend": false
},
{
"Id": 7864,
"Client": "",
"RatingQlf": 5,
"RatingAtt": 5,
"RatingRoom": 5,
"Text": " , , , , , . , .",
"Date": "07.09.2013",
"DoctorId": 167,
"ClinicId": 5,
"Answer": null,
"WaitingTime": 5,
"RatingDoctor": 5,
"RatingClinic": 5,
"TagClinicLocation": true,
"TagClinicService": false,
"TagClinicCost": true,
"TagClinicRecommend": true,
"TagDoctorAttention": false,
"TagDoctorExplain": true,
"TagDoctorQuality": true,
"TagDoctorRecommend": false
},
...
]
}
Примеры ошибок запроса
В случае ошибки в ID должны получить ответ:
{
"ReviewList": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение отзывов о клинике
URL: /review/clinic/$ID
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/review/clinic/100
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
ID 	Число 	ID клиники 	Да 	Да

Результат запроса
Массив ReviewList, содержащий отзывы о клинике
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор отзыва
Client 	строка 	Каноническое имя клиента
RatingQlf 	число 	Оцененная посетителем квалификация
RatingAtt 	число 	Оцененное посетителем отношение
RatingRoom 	число 	Оцененные посетителем цена-качество
Text 	строка 	Комментарий посетителя
Date 	дата 	Дата отзыва
DoctorId 	число 	Идентификатор врача


ClinicId 	число 	Идентификатор клиники
Answer 	строка 	Текст ответа клиники на отзыв
WaitingTime 	число 	Ожидание в очереди (в минутах от 0 до 60)
RatingDoctor 	число 	Оценка врачу (от 0 до 10)
RatingClinic 	число 	Оценка клинике (от 0 до 10)
TagClinicLocation 	bool 	Удобно добираться
TagClinicService 	bool 	Качественное обслуживание
TagClinicCost 	bool 	Доступные цены
TagClinicRecommend 	bool 	Вы рекомендуете клинику
TagDoctorAttention 	bool 	Врач был внимателен
TagDoctorExplain 	bool 	Врач понятно объяснял
TagDoctorQuality 	bool 	Цена соответствует качеству
TagDoctorRecommend 	bool 	Вы рекомендуете врача

Пример результата запроса
{
"ReviewList": [
{
"Id": 9185,
"Client": "",
"RatingQlf": 4,
"RatingAtt": 5,
"RatingRoom": 4,
"Text": "",
"Date": "30.10.2013",
"DoctorId": 167,
"ClinicId": 100,
"Answer": null,
"WaitingTime": 5,
"RatingDoctor": 5,
"RatingClinic": 5,
"TagClinicLocation": true,
"TagClinicService": false,
"TagClinicCost": true,
"TagClinicRecommend": true,
"TagDoctorAttention": false,
"TagDoctorExplain": true,
"TagDoctorQuality": true,
"TagDoctorRecommend": false
},
{
"Id": 7864,
"Client": "",
"RatingQlf": 5,
"RatingAtt": 5,
"RatingRoom": 5,
"Text": " , , , , , . , .",
"Date": "07.09.2013",
"DoctorId": 167,
"ClinicId": 5,
"Answer": null,
"WaitingTime": 5,
"RatingDoctor": 5,
"RatingClinic": 5,
"TagClinicLocation": true,
"TagClinicService": false,
"TagClinicCost": true,
"TagClinicRecommend": true,
"TagDoctorAttention": false,
"TagDoctorExplain": true,
"TagDoctorQuality": true,
"TagDoctorRecommend": false
},
...
]
}
Примеры ошибок запроса
В случае ошибки в ID должны получить ответ:
{
"ReviewList": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
exit
Получение полной информации о враче
URL: /doctor/$ID/city/$city
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/doctor/1652/city/1/withSlots/$withSlots/
slotsDays/$slotsDays
Входные параметры
Параметр 	"Тип
значения"	Суть 	Обязательный 	"Допускается
в теле GET
запроса"
ID 	Число 	ID врача 	Да 	Да
city 	Число 	ID города 	Нет 	Да
withSlots 	Число 	"1 - выводить временные слоты расписания врача
0 - не выводить временные слоты расписания врача"	Нет 	Да
slotsDays 	Число 	"Кол-во дней, на которое нужно выводить расписание врача. Если параметр не указан, то
по умолчанию используется 21 день. Данный параметр применяется только если будет
передан параметр withSlots со значением 1."	Нет 	Да

Результат запроса
Массив Doctor, содержащий информацию о каждом городе
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор врача
Name 	строка 	ФИО врача
Alias 	строка 	Алиас для ЧПУ


Rating 	число 	Рейтинг DocDoc врача
Img 	строка 	Путь к фотографии врача
ExperienceYear 	число 	стаж
Price 	число 	Стоимость первичного приёма
SpecialPrice 	число 	Специальная стоимость приёма
Text* 	строки 	Описание достижений, званий и тп. врача
Category 	строка 	Категория врача (напр. "Врач высшей категории")
Clinics 	массив 	целочисленный список идентификаторов клиник
Degree 	строка 	Научное звание
Specialities 	массив 	Массив специальностей
Stations 	массив 	Массив станций метро, на которых специалист преимущественно ведет свою деятельность
BookingClinics 	массив 	Массив идентификаторов клиник с онлайн записью
isActive
KidsReception 	число (0|1) 	Врач принимает детей (Детский врач)
Slots 	массив 	Массив с данными по расписанию разбитый по клиникам
ClinicsInfo[] 	массив 	Массив данных с ценами, специальностью, рейтингом по клиникам

ClinicsInfo
Поле 	Тип значения 	Суть
ClinicId 	число 	Уникальный идентификатор клиники
Longitude 	вещ. число 	Долгота
Latitude 	вещ. число 	Широта
Stations[] 	массив 	Массив с идентификаторами станций метро
Specialities[] 	массив 	"Массив данных с ценами, специальностью, рейтингом по
клиникам"

Specialities
Поле 	Тип значения 	Суть
SpecialityId 	число 	Уникальный идентификатор специальности
Price 	число 	Цена приема в клинике по указанной специальности
SpecialPrice 	число 	Цена приема со скидкой в клинике по указанной специальности
InternalRating 	вещ. число 	"Рейтинг доктора по клинике и специальности (нужен для формирования
порядка врачей в выдаче)"

Пример результата запроса
{
"Doctor": [1]
0:00
{
"Id": "1652"
"Name": " "
"Rating": "0"
"Sex": "0"
"Img": "http://docdoc.ru/img/doctorsNew/1652_small.jpg"
"AddPhoneNumber": ""
"Category": ""
"Degree": ""
"Rank": ""
"Description": " ( ). . . . .3 - "
"TextEducation": ""
"TextAssociation": ""
"TextDegree": ""
"TextSpec": ""
"TextCourse": ""
"TextExperience": ""
"ExperienceYear": "3"
"Price": "0"
"SpecialPrice": "0"
"Departure": "0"
"Clinics": [0]
"Alias": "0"
"Specialities": [0]
"Stations": [0]
"BookingClinics": [0]
"isActive": false,
"KidsReception": "1",
"Slots": [
"7097": [
0:00
{
"Id":"onclinic_2#15259531-20160610",
"StartTime":"2016-06-12 09:00:00",
"FinishTime":"2016-06-12 10:00:00"
}
]
]
"ClinicsInfo":[1]
0:00
{
"ClinicId": 232
"Longitude": 55.7422450000
"Latitude": 37.6559030000
"Stations": [77, 144, 145]
"Specialities": [1]
0: {
"InternalRating": 8.052
"Price": 1800
"SpecialPrice": 1530
"SpecialityId": 71
}
}
}
}
Пример ошибок запроса
В случае ошибки в ID врача должны получить ответ:
{
"Doctor": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение полной информации о враче по альясу
URL: /doctor/by/alias/$alias/city/$city
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/doctor/by/alias/Belozerova_Tatiana/city/
1
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
$alias 	Строка 	Альяс врача 	Да 	Да
$city 	Число 	ID города 	Нет 	Да

Результат запроса
Массив Doctor, содержащий информацию о каждом городе
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор врача


Name 	строка 	ФИО врача
Alias 	строка 	Алиас для ЧПУ
Rating 	число 	Рейтинг DocDoc врача
Img 	строка 	Путь к фотографии врача
ExperienceYear 	число 	стаж
Price 	число 	Стоимость первичного приёма
Text* 	строки 	Описание достижений, званий и тп. врача
Category 	строка 	Категория врача (напр. "Врач высшей категории")
Clinics 	массив 	целочисленный список идентификаторов клиник
Degree 	строка 	Научное звание
Specialities 	массив 	Массив специальностей
Stations 	массив 	Массив станций метро, на которых специалист преимущественно ведет свою деятельность
BookingClinics 	массив 	Массив идентификаторов клиник с онлайн-записью
isActive
KidsReception 	число (0|1) 	Врач принимает детей
ClinicsInfo[] 	массив 	Массив данных с ценами, специальностью, рейтингом по клиникам

ClinicsInfo
Поле 	Тип значения 	Суть
ClinicId 	число 	Уникальный идентификатор клиники
Longitude 	вещ. число 	Долгота
Latitude 	вещ. число 	Широта
Stations[] 	массив 	Массив с идентификаторами станций метро
Specialities[] 	массив 	"Массив данных с ценами, специальностью, рейтингом по
клиникам"

Specialities
Поле 	Тип значения 	Суть
SpecialityId 	число 	Уникальный идентификатор специальности
Price 	число 	Цена приема в клинике по указанной специальности
SpecialPrice 	число 	Цена приема со скидкой в клинике по указанной специальности
InternalRating 	вещ. число 	"Рейтинг доктора по клинике и специальности (нужен для формирования
порядка врачей в выдаче)"

Пример результата запроса
{
"Doctor":
[
{
"Id":100,
"Name":" ",
"Rating":"4.75",
"Sex":1,
"Img":"http://docdoc.ru/img/doctorsNew/100_small.jpg",
"AddPhoneNumber":"",
"Category":" ",
"Degree":" ",
"Rank":"",
"Description":" 400 . , , . .",
"TextEducation":"<ul><li> (1984 .)</li><li> (1986
.)</li><li>
(1992 .)</li></ul>","TextAssociation":" . - . I-
\" \" (1997 .) \" \" (1997 .) IV- (1997 .) -
\" \" (1997 .) -, (1997 .)
20- \" \" (2007 .)",
"TextDegree":"",
"TextSpec":"<ul> <li> ;</li><li> ;</li> <li>;</li><li> ;</li> <li>
.</li> </ul>",
"TextCourse":" (1990, 1992, 1994, 1997, 2000, 2012 .) \" \"
(1993, 1998 .)
(1994 .) \" \" (1997, 2003, 2007, 2010, 2012 .)",
"TextExperience":"",
"ExperienceYear":31,
"Price":1500,
"SpecialPrice":0,
"Departure":0,
"Clinics":[13],
"ClinicsInfo":[1]
0:00
{
"ClinicId": 232
"Longitude": 55.7422450000
"Latitude": 37.6559030000
"Stations": [77, 144, 145]
"Specialities": [1]
0: {
"InternalRating": 8.052
"Price": 1800
"SpecialPrice": 1530
"SpecialityId": 71
}
}
"Alias":"Belozerova_Tatiana",
"Specialities":
[
{
"Id":"67",
"Name":"",
"Alias":"akusher"
},
{
"Id":"72",
"Name":"",
"Alias":"ginekolog"
}
],
"Stations":
[
{
"Id":"153",
"Name":"",
"LineName":"",
"LineColor":"99cc33",
"CityId":"1",
"Alias":"trubnaya"
},
{
"Id":"168",
"Name":" ",
"LineName":"-",
"LineColor":"a2a5b4",
"CityId":"1",
"Alias":"cvetnoy_bulvar"
}
]
"BookingClinics": [0]
"isActive": "true",
"KidsReception": "1"
}
]
}
Пример ошибок запроса
В случае ошибки в ID врача должны получить ответ:
{
"Doctor": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}

Получение полной информации о клинике
URL: /clinic/$ID
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/clinic/1
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
ID 	Число 	ID клиники 	Да 	Да

Результат запроса
Массив Clinic, содержащий информацию о каждой клинике
Поле 	Тип значения 	Суть
Id 	строка 	Уникальный идентификатор клиники
Name 	строка 	название клиники
ShortName 	строка 	Короткое название клиники
RewriteName 	строка 	Название клиники для url
Url 	строка 	url клиники
City 	строка 	Название города


Street 	строки 	Улица клиники
StreetId 	строка 	ID улицы
Description 	строка 	Описание клиники
House 	строка 	Номер дома
Phone 	строка 	Номер телефона
Logo 	строка 	url логотипа
DistrictId 	строка 	ID района
Doctors 	массив строк 	Доктора клиники
Longitude 	строка 	Долгота
Latitude 	строка 	Широта
ParentId 	целое число 	"Идентификатор основной клиники, если текущая клиника - основная, то идентификатор текущей
клиники."
BranchesId 	массив 	"Масиив целых чисел - идентификаторов филиалов сетевой клиники. Если текущая клиника
является филиалом, то ее идентификатор тоже будет тут."
OnlineRecordDoctor 	bool 	Возможна ли запись онлайн к врачу в этой клинике
Stations[] 	массив 	Массив станций метро
IsActive 	bool 	Состояние активности клиники (активна/неактивна)

Stations
Поле 	Тип значения 	Суть
Id 	строка 	Уникальный идентификатор метро
Name 	строка 	название станции метро
Alias 	строка 	алиас названия
LineId 	строка 	идентификатор линии метро
Longitude 	вещ. число 	долгота
Latitude 	вещ. число 	широта

Пример результата запроса
{
"Clinic": [1]
0: {
"Id": "1",
"Name": " 1",
"ShortName": " 1",
"RewriteName": "clinica_11",
"Url": "http://www.clinicanomer1.ru",
"City": "",
"Street": " ",
"StreetId": "1267",
"Description": " , 14 . (5-10 .)
+7 (495) 988-01-64.",
"House": ". 52, . 2",
"Phone": "+74959880164",
"Logo": "http://docdoc.ru/upload/kliniki/logo/1.png",
"DistrictId": "64",
"Doctors": [12]
0: "2632",
1: "3698",
2: "3699",
3: "3745",
4: "4016",
5: "6957",
6: "6958",
7: "7944",
8: "8408",
9: "8410",
10: "8415",
11: "8417",
"Longitude": "55.675702",
"Latitude": "37.767699",
"ParentId": 1,
"BranchesId" : [5,15,373],
"OnlineRecordDoctor" : true,
"Stations": [
{
"Id": "6",
"Name": "",
"Alias": "altufevo",
"LineId": "4",
"Longitude": "37.58734512",
"Latitude": "55.89837646"
}
],
"IsActive" : true
}
}
Примеры ошибок запроса
В случае ошибки в номере клиники должны получить ответ:
{
"Clinic": [1],
"0" : [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
OnlineRecordDoctor
Получение полной информации о клинике по альясу
URL: /clinic/by/alias/$alias/city/$city
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
$alias 	Строка 	Альяс диагностического центра 	Да 	Да
$city 	Число 	ID города 	Нет 	Да

Результат запроса
Массив Center, содержащий информацию о диагностическом центре
Поле 	"Тип
значения"	Суть
Id 	число 	Уникальный идентификатор клиники
Name 	строка 	Наименование клиники
ShortName 	строка 	Краткое наименование клиники
RewriteName 	строка 	Алиас для ЧПУ


Description 	строка 	Описание клиники
Url 	строка 	Адрес сайта клиники
City 	строка 	Город
Street 	строка 	Адрес клиники: улица
House 	строка 	Адрес клиники: дом
DistrictId 	число 	Уникальный идентификатор района
StreetId 	число 	Уникальный идентификатор улицы
Phone 	строка 	Телефон клиники
Logo 	строка 	Ссылка на логотип клиники
Doctors 	массив 	Массив докторов
Diagnostics 	массив 	Массив поводимых центром диагностик
Schedule 	массив 	Массив с расписанием работы клиники
Stations 	массив 	Массив станций метро, на которых специалист преимущественно ведет свою деятельность
Services 	массив 	Массив услуг в которых указана цена
ParentId 	"целое
число"	"Идентификатор основной клиники, если текущая клиника - основная, то идентификатор текущей
клиники."
BranchesId 	массив 	"Масиив целых чисел - идентификаторов филиалов сетевой клиники. Если текущая клиника является
филиалом, то ее идентификатор тоже будет тут."
OnlineRecordDoctor 	bool 	Возможна ли запись онлайн к врачу в этой клинике
IsActive 	bool 	Состояние активности клиники (активна/неактивна)

Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/clinic/by/alias/magnetom
Пример результата запроса
{
"Center":[
{
"Id":"4209",
"Name":" ",
"ShortName":"",
"RewriteName":"magnetom",
"Url":"http://www.magnetom-mrt.ru",
"City":"",
"Street":" .",
"StreetId":"419",
"Description":"- . 5 . . 2 . . . . .",
"House":". 46, . 29",
"Phone":"+74952551638",
"Logo":"http://docdoc.ru/upload/kliniki/logo/4209.jpg",
"DistrictId":"81",
"Doctors":[],
"Longitude":"37.6243460000",
"Latitude":"55.6744430000",
"ParentId": 10,
"BranchesId" : [5,15,373, 4209],
"OnlineRecordDoctor" : true,
"Schedule":[
{
"Day":"0",
"StartTime":"09:00",
"EndTime":"20:00",
"DayTitle":"-"
},
{
"Day":"6",
"StartTime":"09:00",
"EndTime":"20:00",
"DayTitle":""
}
],
"Diagnostics":[
{
"Id":"52",
"Name":" (- ) ",
"Price":"5000",
"SpecialPrice":"3500"
},
{
"Id":"53",
"Name":" (- ) ",
"Price":"5000",
"SpecialPrice":"3500"
},
{
"Id":"54",
"Name":" (- ) ",
"Price":"5000",
"SpecialPrice":"3500"
},
],
"Stations":[
{
"Id":"87",
"Name":"",
"Alias":"nagatinskaya",
"LineId":"4"
},
{
"Id":"88",
"Name":"",
"Alias":"nagornaya",
"LineId":"4"
},
{
"Id":"89",
"Name":" ",
"Alias":"nahimovskiy_prospekt",
"LineId":"4"
}
],
"Services":[
{
"ServiceId": "13",
"ServiceName": " ",
"Price": "500"
},
{
"ServiceId": "1642",
"ServiceName": " ",
"Price": "1200"
}],
"IsActive" : true
}
]
}
Получение рекомендаций перед приёмом
URL: /guidelines
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/guidelines/sector/1/service/2/diagnostic
/3
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
sector 	число 	Идентификатор специализации врача 	Нет 	Да
service 	число 	Идентификатор услуги 	Нет 	Да
diagnostic 	число 	Идентификатор диагностики 	Нет 	Да

Обязательно указать хотя бы один параметр
Результат запроса
Поле 	Тип значения 	Суть
Guidelines 	объект guidelines 	первый найденый элемент, по указанным переданным параметрам

Структура объекта Guidelines
Поле 	"Тип
значения"	Суть
Id 	число 	Уникальный идентификатор
Title 	строка 	Заголовок
Image 	URL 	Ссылка на картинку для рекомендации
Text 	текст 	Текст рекомендации (в формате HTML)

Пример результата запроса
{
"Guidelines": {
"Id": 1,
"Title": " ",
"Image": "https://s.docdoc.ru/images/guidelines/gastroenterologist",
"Text": " html"
}
}
Примеры ошибок запроса
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение списка ближайших станций метро
URL: /nearestStation/id/$stationID/
Входные параметры
Параметр 	Тип значения 	Суть 	В теле GET запроса
stationID 	Число 	Уникальный числовой идентификатор станции 	Да

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/nearestStation/id/175/
Результат запроса
Массив StationList[], содержащий информацию о каждой станции
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор станции метро
Alias 	строка 	Наименование станции для ЧПУ
Name 	строка 	Наименование станции
LineName 	строка 	Имя линии станций метро
LineColor 	строка 	Цвет линии станций метро
CityId 	Число 	Уникальный идентификатор города
DistrictIds 	массив 	Идентификаторы районов


Пример результата запроса
"StationList":
[
{
"Id":"1",
"Alias":"aviamotornaya",
"Name":"",
"LineName":"",
"LineColor":"ffdd03",
"CityId":"1",
"DistrictIds": ["75"]
},
...
]
Пример ошибок запроса
В случае ошибки в ID станции ответ должен быть вида:
{
"StationList": [0]
}
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка врачей
URL: /doctor/list/start/$startFrom/count/$countList/city/$cityID/area/$areaID/district/$districtID/speciality/$specialityID/type/$typeSearch/stati
ons/$stationsID/near/$nearMode/order/$order/deti/$deti/na-dom/$na-dom/street/$streetID/withSlots/$withSlots/slotsDays/$slotsDays/gende
r/$gender/withReviews/$withReviews/splitClinic/$splitClinic/illness/$illness
Входные параметры
При поиске по гео-параметрам, указываются следующие параметры:
city
area или district или stations (для stations нужно указать параметр near)
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	"Допускается
в теле GET
запроса"
startFrom 	Число 	"Начиная с какого порядкого номера вернуть список
врачей"	Да 	Да
countList 	Число 	Сколько врачей должно быть в списке (не более 500) 	Да 	Да
cityID 	Число 	Идентификатор города 	Да 	Да
specialityID 	Число 	Идентификатор специальности 	Нет 	Да
areaID 	Число 	Идентификатор округа 	Нет 	Да
districtID 	Число 	Идентификатор района 	Нет 	Да
stations 	Массив Stations 	Идентификатор станций метро 	Да 	Да
nearMode 	strict|mixed 	"Режим поиска рядом:
strict — строгое совпадение по станциям
mixed — строгое совпадение по станциям +
ближайшиие станции
extra — строгое совпадение по станциям, а
потом поиск по ближайшим и лучшим (добивка
до 10 врачей)"	Да 	Да
order 	price|experience|rating 	"Сортировка:
price — по цене
experience — стажу
rating — по рейтингу
distance — по расстоянию от точки с заданными
координатами (работает только при заданных
координат и радиусе, в остальных случаях
игнорируется)
name — по имени врача
По умолчанию метод сортировки по возрастанию
(ASC).
Для сортировки по убыванию (DESC) необходимо
поставить знак минус ( - )перед названием
сортировочного поля"	Нет 	Нет
deti 	Число 	"1 - выбор врачей, осуществляющих детский прием
0 - выбор врачей, не осуществляющих детский прием"	Нет 	Да
na-dom 	Число 	"1 - выбор врачей, выезжающих на дом
0 - выбор врачей, не выезжающих на дом"	Нет 	Да
typeSearch 	Строка 	"Тип поиска
landing — для страниц лэндинга"	Нет 	Да
lat 	Число 	Поиск по координатам. Широта 	"Нет
Если ведется поиск по координатам,
обязательно должны быть указаны
широта и долгота. Если эти параметры
будут указаны не полностью, то они
будут игнорироваться.
Радиус указывать не обязательно."	Да
lng 	Число 	Поиск по координатам. Долгота 	Да
radius 	Число 	Поиск по координатам. Радиус поиска, км 	Да
street 	Число 	Поиск по улице 	Нет 	Да
withSlots 	Число 	"1 - выводить временные слоты расписания врача
0 - не выводить временные слоты расписания врача"	Нет 	Да
slotsDays 	Число 	"Кол-во дней, на которое нужно выводить расписание
врача. Если параметр не указан, то по умолчанию
используется 21 день. Данный параметр
применяется только если будет передан параметр wi
thSlots со значением 1."	Нет 	Да


gender 	Число 	"Поиск по полу врача:
1 или male - мужской
2 или female - женский"	Нет 	Да
withReviews 	Число 	"Поиск по наличию отзывов:
0 - Врачи без отзывов
1 - Врачи с отзывами"	Нет 	Да
splitClinic 	число 	"Флаг, позволяющий выводить врачей, работающих в
нескольких клиниках, каждого - отдельной записью.
0 - Возвращать обычную выборку
1 - Возвращать список врачей, разбитых по
клиникам"	нет 	да
illness 	строка 	символьный код болезни 	нет 	да

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/doctor/list/start/0/count/5/city/1/specialit
y/87/stations/168/near/mixed/order/-price/deti/1/na-dom/1/street/3148/withSlots/1/slotsDays/2/gender/1
/withReviews/1/splitClinic/1/illness/rodinki
Результат запроса
Поле 	Тип значения 	Суть
Total 	число 	Доступное число в базе по этим параметрам
DoctorList 	массив 	Список врачей

DoctorList:
Поле 	Тип значения 	Суть
id 	число 	Уникальный идентификатор специалиста
Name 	cтрока 	Фамилия, имя и отчество специалиста
Alias 	cтрока 	Уникальный Alias врача
Rating 	вещ. число 	Рейтинг ДокДок врача
InternalRating 	вещ. число 	Внутренний рейтинг ДокДок врача
Price 	число 	Стоимость первичного приёма
SpecialPrice 	число 	Специальная стоимость приёма
Sex 	число 	Пол специалиста
Img 	строка/URL 	Адрес фотографии специалиста
OpinionCount 	число 	Число отзывов
TextAbout 	строка 	Информация о враче
ExperienceYear 	число 	Стаж специалиста
Departure 	число (0/1) 	Выезд домой
Category 	строка 	Категория врача (e.g. "1-я категория")
Clinics[] 	массив 	Массив клиник
Degree 	строка 	Ученая степень
Rank 	строка


Specialities[] 	массив 	Массив специальностей, как в соответствующем запросе
Stations[] 	массив 	Массив станций метро, на которых специалист преимущественно ведет свою деятельность
Extra 	строка 	Признак того, что данный врач из добивки (null / geo / best)
KidsReception 	число (0|1) 	Детский врач
Slots 	массив 	Массив с данными по расписанию разбитый по клиникам
ClinicsInfo[] 	массив 	Массив данных с ценами, специальностью, рейтингом по клиникам

Staions
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор станции
Name 	строка 	Наименовании станции
Alias 	строка 	Уникальное наименовании станции на латинице
LineName 	строка 	Наименовании линии метро
LineId 	число 	Идентификатор линии метро
LineColor 	строка 	Цвет линии метро
CityId 	число 	Идентификатор города

Clinics
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор клиники
OnlineBooking 	число (0/1) 	Возможность онлайн бронирования

ClinicsInfo
Поле 	Тип значения 	Суть
ClinicId 	число 	Уникальный идентификатор клиники
Longitude 	вещ. число 	Долгота
Latitude 	вещ. число 	Широта
Stations[] 	массив 	Массив с идентификаторами станций метро
Specialities[] 	массив 	"Массив данных с ценами, специальностью, рейтингом по
клиникам"

Specialities
Поле 	Тип значения 	Суть
SpecialityId 	число 	Уникальный идентификатор специальности
Price 	число 	Цена приема в клинике по указанной специальности
SpecialPrice 	число 	Цена приема со скидкой в клинике по указанной специальности
InternalRating 	вещ. число 	"Рейтинг доктора по клинике и специальности (нужен для формирования
порядка врачей в выдаче)"

Пример результата запроса
{
"Total": "1",
"DoctorList": [1]
0:00
{
"Id": "12463",
"Name": " ",
"Rating": "4.1",
"Sex": "1",
"Img": "http://docdoc.ru/img/doctorsNew/12463_small.jpg",
"AddPhoneNumber": " ",
"Category": " ",
"Degree": " ",
"Rank": " ",
"Description": " , . ( , , , .), ,
, , .",
"ExperienceYear": "4",
"Price": "3000",
"SpecialPrice": "0",
"Departure": "1",
"Clinics":[1]
0: "3315"
"ClinicsInfo": [
{
"ClinicId": 5719,
"Longitude": 37.655903,
"Latitude": 55.742245,
"Stations": [
77
144
145
],
"Specialities": [
{
"SpecialityId": 75,
"Price": 1700,
"SpecialPrice": 1275,
"InternalRating": 8.232
},
{
"SpecialityId": 91,
"Price": 1700,
"SpecialPrice": 1275,
"InternalRating": 8.232
},
{
"SpecialityId": 181,
"Price": null,
"SpecialPrice": null,
"InternalRating": 8.232
}
]
}
]
"Alias": "Krasnova_Tatjana_1",
"Specialities": [1]
0:00
{
"Id": "87",
"Name": "",
"Alias": "psiholog",
"NameGenitive": "",
"NamePlural": "",
"NamePluralGenitive": ""
}
"Stations": [1]
0:00
{
"Id": "168",
"Name": " ",
"LineName": "-",
"LineColor": "a2a5b4",
"CityId": "1",
"Alias": "cvetnoy_bulvar",
}
"BookingClinics": [0]
"isActive": true,
"TextAbout": " , . ( , , , .), ,
, , .",
"InternalRating": "8.5",
"OpinionCount": "1",
"Extra": null,
"KidsReception": "1",
"Slots": [
"7097": [
0:00
{
"Id":null,
"StartTime":"2016-06-12 09:00:00",
"FinishTime":"2016-06-12 10:00:00"
}
]
]
}
}
Пример ошибок запроса
В случае ошибки в номере города, в номере специальности, в номере станции должны получить ответ:
{
"Total": "0",
"DoctorList": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение списка всех врачей
URL: /api/rest/1.0.6/json/doctor/list/start/1/count/$count/city/$cityID/
Входные параметры
Параметр 	Тип значения 	Суть 	В теле GET запроса
cityID 	Число 	Уникальный идентификатор города 	Да
count 	Число 	Максимальное количество врачей (не более 500) 	Да

Результат запроса
Поле 	Тип значения 	Суть
Total 	число 	Доступное число в базе по этим параметрам
DoctorList 	массив 	Список врачей

DoctorList
Поле 	Тип значения 	Суть
id 	число 	Уникальный идентификатор специалиста
Name 	cтрока 	Фамилия, имя и отчество специалиста


Alias 	cтрока 	Уникальный Alias врача
Rating 	вещ. число 	Рейтинг ДокДок врача
InternalRating 	вещ. число 	Внутренний рейтинг ДокДок врача
Price 	число 	Стоимость первичного приёма
SpecialPrice 	число 	Специальная стоимость приёма
Sex 	число 	Пол специалиста
Img 	строка/URL 	Адрес фотографии специалиста
OpinionCount 	число 	Число отзывов
TextAbout 	строка 	Информация о враче
ExperienceYear 	число 	Стаж специалиста
Departure 	число (0/1) 	Выезд домой
Category 	строка 	Категория врача (e.g. "1-я категория")
Degree 	строка 	Ученая степень
Rank 	строка
Specialities[] 	массив 	Массив специальностей, как в соответствующем запросе
Stations[] 	массив 	Массив станций метро, на которых специалист преимущественно ведет свою деятельность
isActive
BookingClinics 	массив 	Массив идентификаторов клиник с онлайн-записью
Extra
KidsReception 	число (0/1) 	Детский врач

Stations
Поле 	Тип значения 	Суть
id 	число 	Уникальный идентификатор станции
name 	строка 	Наименовании станции
alias 	строка 	Уникальное наименовании станции на латинице
LineName 	строка 	Наименовании линии метро
LineId 	число 	Идентификатор линии метро
LineColor 	строка 	Цвет линии метро
CityId 	число 	Идентификатор города

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/doctor/list/start/1/count/100/city/1/
Пример результата запроса
{
"Total": "4300",
"DoctorList": [100]
0:00
{
"Id": "37",
"Name": " ",
"Rating": "4.85",
"Sex": "0",
"Img": "http://docdoc.ru/img/doctorsNew/37_small.jpg"
"AddPhoneNumber": " ",
"Category": " ",
"Degree": " ",
"Rank": " ",
"Description": " . , , , , , ."
"ExperienceYear": "23",
"Price": "1500",
"SpecialPrice": "0",
"Departure": "0",
"Clinics": [1]
0: "230"
"Alias": "Prohorov_Sergei",
"Specialities": [1]
0:00
{
"Id": "93",
"Name": "",
"Alias": "urolog",
"NameGenitive": "",
"NamePlural": "",
"NamePluralGenitive": ""
}
"Stations": [4]
0:00
{
"Id": "8",
"Name": "",
"LineName": "-",
"LineColor": "003399",
"CityId": "1",
"Alias": "arbatskaya"
},
...
"BookingClinics": [0]
"isActive": true,
"TextAbout": " . , , , , , ."
"InternalRating": "9.85",
"OpinionCount": "34",
"Extra": null,
"KidsReception": "1"
}
Пример ошибок запроса
В случае ошибки в номере города должны получить ответ:
{
"Total": "0",
"DoctorList": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение списка городов
URL: /city/
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/city/
Результат запроса
Массив cityList[], содержащий информацию о каждом городе
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор города
Name 	строка 	Наименование города
Alias 	строка 	Наименование города для ЧПУ
Phone 	Строка 	Номер телефона
Latitude 	float 	Широта
Longitude 	float 	Долгота
SearchType 	Число 	"Тип поиска (для клиники, врачей)
1 - Поиск по району
2 - Поиск по метро
3 - Поиск по карте метро"
HasDiagnostic 	bool 	Наличие диагностических центров в городе
TimeZone 	Число 	Временная зона

Пример результата запроса
{
"CityList":
[
{
"Id":"1",
"Name":"",
"Alias":"msk",
"Phone": "74951234567",
"Latitude":"55.755826",
"Longitude":"37.6173",
"SearchType": 1,
"HasDiagnostic": true,
"TimeZone": 0
},
{
"Id":"2",
"Name":"-",
"Alias":"spb",
"Phone": "78121234567",
"Latitude":"59.9342802",
"Longitude":"30.3350986",
"SearchType": 1,
"HasDiagnostic": true,
"TimeZone": 0
},
...
]
}
Пример ошибок запроса
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка диагностических услуг и подуслуг
URL: /diagnostic/
Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/diagnostic/
Результат запроса
Массив DiagnosticList[], содержащий информацию о каждой диагностической услуге и подуслуги
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор услуги
Name 	строка 	Наименование услуги
Alias 	строка 	Наименование услуги для ЧПУ
SubDiagnosticList 	массив 	Подуслуги
Id @ SubDiagnosticList 	число 	Идентификатор подуслуги
Name @ SubDiagnosticList 	строка 	Наименование подуслуги
Alias @ SubDiagnosticList 	строка 	Наименование подуслуги для ЧПУ

Пример результата запроса
{
"DiagnosticList": [15]
0: {
"Id": "1",
"Name": " ( )",
"Alias": "uzi",
"SubDiagnosticList": [20]
0: {
"Id": "71",
"Name": "",
"Alias": "uzi-pechecni"
},
1: {
"Id": "72"
"Name": " ",
"Alias": "uzi-podzheludochnoi-zhelezi"
}
}
}
Пример ошибки запроса
В случае ошибки должны получить ответ
{
"status": "error",
"message": " "
}
Получение списка клиник
URL: /clinic/list/start/$startFrom/count/$countList/city/$cityID/type/$clinicType/district/$districtId/stations/$stationsID/near/$nearMode/special
ity/$specialityID/street/$streetId/order/$order/workAllTime/$workAllTime
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	"Допускается в теле GET
запроса"
startFrom 	Число 	Начиная с какого порядкого номера вернуть список врачей 	Да 	Да
countList 	Число 	Сколько врачей должно быть в списке 	Да 	Да
cityID 	Число 	Идентификатор города 	Да 	Да
clinicType 	Массив чисел 	Тип клиники (1 - Клиника, 2 - Диаг. центр, 3 - Частный врач) 	Нет 	Да
stations 	Массив чисел 	Идентификатор станций метро 	Нет 	Да
nearMode 	strict|mixed|extra 	"Режим поиска рядом:
strict — строгое совпадение по станциям
mixed — строгое совпадение по станциям, а потом поиск по
ближайшим
extra — ?"	Нет 	Да
speciality 	Число 	Идентификатор специальности 	Нет 	Да
diagnostic 	Число 	Идентификатор диагностики 	Нет 	Да
district 	Число | Строка 	Идентификатор района или имя района 	Нет 	Да
street 	Число 	Идентификатор улицы 	Нет 	Да
order 	Строка 	"Сортировка:
name — по названию клиники
Если не указано, то сортируется по рейтингу"	Нет 	Да
workAllTime 	число 	"0 - клиника работает НЕ круглосуточно
1 - клиника работает круглосуточно
круглосуточно - каждый день с 00:00 по 24:00, включая выходные"	нет 	Да

Результат запроса
Поле 	Тип значения 	Суть
Total 	число 	Доступное число в базе по этим параметрам
ClinicList 	массив 	Список клиник

[ClinicList]
Начиная с версии 1.0.6 удалены поля WeekdaysOpen и WeekendOpen
Поле 	Тип значения 	Суть
id 	число 	Уникальный идентификатор специалиста
Name 	строка 	Название клиники
RewriteName 	строка 	Краткое название клиники
Alias 	строка 	Алиас


URL 	строка 	Адрес url
Longitude 	строка 	"Долгота
До версии 1.0.5 Latitude и Longitude были перепутан местами. Начиная с версии 1.0.5 они
выдаются корректно"
Latitude 	строка 	"Широта
До версии 1.0.5 Latitude и Longitude были перепутан местами. Начиная с версии 1.0.5 они
выдаются корректно"
City 	строка 	Идентификатор города
Street 	строка 	Улица
StreetId 	строка 	Идентификатор улицы
House 	строка 	Дом
Description 	строка 	Описание
ShortDescription 	строка 	Краткое описание
IsDiagnostic 	строка 	Флаг - диагностический центр
IsClinic 	строка 	Флаг - клиника
IsDoctor 	строка 	Флаг - частный врач
Phone 	строка 	Контактный телефон
PhoneAppointment 	cтрока 	"Прямой телефон клиники. Записи через него оплачены не будут. Используйте
ReplacementPhone"
ReplacementPhone 	строка 	Подменный телефон для клиники
logoPath 	cтрока 	Название файла логотипа
ScheduleState 	cтрока 	Работа по онлайн расписанию
DistrictId 	cтрока 	Идентификатор района
Email 	cтрока 	Email
MinPrice 	cтрока 	Минимальная цена первичного приема
MaxPrice 	cтрока 	Максимальная цена первичного приема
Logo 	cтрока 	Ссылка на логотип
Diagnostics 	массив 	Список исследований
Stations 	массив 	Список станций метро
Specialities 	массив 	Список специальностей
Services 	массив 	Массив услуг в которых указана цена
Schedule 	массив 	Время работы по дням недели
Order 	"Вещественное
число"	Порядок сортировки клиник по умолчанию
Rating 	"Вещественное
число"	Рейтинг отображаемый на сайте
TypeOfInstitution 	строка 	"тип клиники (многопрофильный медицинский центр, многопрофильная медицинская клиника и
т.п.)"
ParentId 	целое число 	"Идентификатор основной клиники, если текущая клиника - основная, то идентификатор текущей
клиники."


BranchesId 	массив 	"Масиив целых чисел - идентификаторов филиалов сетевой клиники. Если текущая клиника
является филиалом, то ее идентификатор тоже будет тут."

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/clinic/list/start/0/count/5/city/1/type/1,3/
stations/1/near/mixed/street/12/order/name
Пример результата запроса
{
"Total": "3",
"ClinicList": [3]
0:00
{
"Id": "373",
"Name": "",
"ShortName": "",
"RewriteName": "astramed",
"URL": "http://www.astramed-clinic.ru",
"Longitude": "37.7226030000",
"Latitude": "55.7454020000",
"City": "",
"Street": ". ",
"StreetId": "12",
"House": ". 53, . 1, . 6",
"Description": " . . 7 . . . ,
, ..",
"ShortDescription": " . . 7 . . .
, , ..",
"IsDiagnostic": "no",
"isClinic": "yes",
"IsDoctor": "no",
"Phone": null,
"PhoneAppointment": "+7 (495) 647-42-47",
"logoPath": null,
"ScheduleState": "disable",
"DistrictId": "63",
"Email": "contact@astramed-clinic.ru",
"ReplacementPhone": null,
"MinPrice": null,
"MaxPrice": null,
"Logo": "http://docdoc.ru/upload/kliniki/logo/",
"Stations": [1]
0:00
{
"Id": "1",
"Name": "",
"LineName": "",
"LineColor": "ffdd03",
"CityId": "1"
},
"Specialities": [0],
"Services":[2]
0:00
{
"ServiceId": "13",
"ServiceName": " ",
"Price": "500"
},
1:00
{
"ServiceId": "1642",
"ServiceName": " ",
"Price": "1200"
},
"Schedule": [1]
0:00
{
Day: "0",
StartTime: "10:00",
EndTime: "20:00",
DayTitle: "-"
},
"Order": 12.3,
"Rating": 8.9,
"TypeOfInstitution": " ",
"ParentId": 10,
"BranchesId" : [5,15,373]
},
...
}
Пример ошибок запроса
В случае ошибки в номере города, в номере станции должны получить ответ:
{
"Total": "0",
"ClinicList": [0]
}
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение списка округов Москвы
URL: /area/
Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/area
Результат запроса
Массив AreaList[], содержащий информацию о каждом округе
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор округа
Alias 	строка 	Наименование округа для ЧПУ
Name 	строка 	Наименование округа
FullName 	строка 	Полное название округа

Пример результата запроса
{
"AreaList": [9]
{
"Id": "1",
"Alias": "cao",
"Name": "",
"FullName": " "
}
}
Пример ошибок запроса
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка районов
URL: /district/city/$cityID/area/$areaID
Входные параметры
Параметр 	Тип значения 	Суть 	В теле GET запроса
cityID 	Число 	Уникальный числовой идентификатор города 	Да
areaID 	Число 	Уникальный числовой идентификатор округа 	Да

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/district/
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/district/city/1/
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/district/city/1/area/1
Результат запроса
Массив DistrictList[], содержащий информацию о каждой станции
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор района
Alias 	строка 	Наименование района для ЧПУ
Name 	строка 	Наименование района
Area 	массив 	Округ (только для Москвы)


Пример результата запроса
Для Москвы
{
"DistrictList": [120]
0:00
{
"Id": "1",
"Alias": "arbat",
"Name": "",
"Area":
{
"Id": "1",
"Alias": "cao",
"Name": "",
"FullName": " "
}
}
1:00
{
"Id": "2",
"Alias": "basmannyj",
"Name": "",
"Area":
{
"Id": "1",
"Alias": "cao",
"Name": "",
"FullName": " "
}
}
}
Для остальных городов
{
"DistrictList": [120]
1:00
{
"Id": "122",
"Alias": "vasileostrovskiy",
"Name": ""
}
}
Пример ошибок запроса
В случае ошибки в ID города ответ должен быть вида:
В случае ошибки в ID города ответ должен быть вида:
{
"DistrictList": [0]
}
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка слотов по врачам и диагностикам
URL: /slot/list/doctor/$ID_DOCTOR/clinic/$ID_CLINIC/from/$START_DATE/to/$FINISH_DATE/
/slot/list/diagnostic/$ID_DIAGNOSTIC/clinic/$ID_CLINIC/from/$START_DATE/to/$FINISH_DATE/
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/slot/list/doctor/43/clinic/13/from/2014-
07-01/to/2014-08-01/
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/slot/list/diagnostic/43/clinic/13/from/2
014-07-01/to/2014-08-01/
Результат запроса
Slot[], содержащий информацию о слотах для врача/диагностики в этой клинике
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор Слота
StartTime 	строка 	Время начала
FinishTime 	строка 	Время окончания

Пример результата запроса
{
"Slots": [
{"Id": "1", "StartTime": "2014-01-01 00:00:00", "FinishTime":
"2014-01-01 01:10:10"},
{"Id": "2", "StartTime": "2014-01-01 00:00:00", "FinishTime":
"2014-01-01 01:10:10"},
{"Id": "3", "StartTime": "2014-01-01 00:00:00", "FinishTime":
"2014-01-01 01:10:10"},
{"Id": "4", "StartTime": "2014-01-01 00:00:00", "FinishTime":
"2014-01-01 01:10:10"},
{"Id": "5", "StartTime": "2014-01-01 00:00:00", "FinishTime":
"2014-01-01 01:10:10"},
{"Id": "6", "StartTime": "2014-01-01 00:00:00", "FinishTime":
"2014-01-01 01:10:10"}
]
}
Пример ошибок запроса
В результате ошибки должны получить ответ:
{
"SlotList": [0]
}
Получение списка специальностей
URL: /speciality/city/$cityID/
Входные параметры
Параметр 	"Тип
значения"	Суть 	Обязательный 	"Допускается в теле GET
запроса"
cityID 	Число 	Идентификатор города 	нет 	Да
onlySimple 	Число 	"1 - получать только уникальные специальности (стоит по умолчанию)
0 - не обращать внимание на уникальность специальности, выбирать с
двойными"	нет 	Да

Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/speciality/city/1/onlySimple/0
Результат запроса
Массив SpecList[], содержащий информацию о каждом специальности
Поле 	Тип значения 	Суть


Id 	число 	Уникальный идентификатор специальности
Name 	строка 	Наименование специальности
Alias 	строка 	Наименование специальности для ЧПУ
NameGenitive 	строка 	Наименование в родительном падеже
NamePlural 	строка 	Наименование во множественном числе
NamePluralGenitive 	строка 	Наименование в родительном падеже во множественном числе
BranchName 	строка 	Наименование направления
BranchAlias 	строка 	Наименование направления для ЧПУ

Пример результата запроса
{
"SpecList":[50]
0:00
{
"Id": "67",
"Name": "",
"Alias": "akusher",
"NameGenitive": "",
"NamePlural": "",
"NamePluralGenitive": "",
"BranchName" : "",
"BranchAlias" : "akusherstvo",
},
...
}
Пример ошибок запроса
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка станций метро
URL: /metro/city/$cityID/
Входные параметры
Параметр 	Тип значения 	Суть 	В теле GET запроса
cityID 	Число 	Уникальный числовой идентификатор города 	Да

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/metro/city/1/
Результат запроса
Массив metroList[], содержащий информацию о каждой станции
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор станции метро
Alias 	строка 	Наименование станции для ЧПУ
Name 	строка 	Наименование станции
LineName 	строка 	Имя линии станций метро
LineColor 	строка 	Цвет линии станций метро
CityId 	Число 	Уникальный идентификатор города
DistrictIds 	массив 	Идентификаторы районов

Пример результата запроса
{
"MetroList": [195]
0:00
{
"Id": "2",
"Name": "",
"LineName": "",
"LineColor": "0a6f20",
"CityId": "1",
"Alias": "avtozavodskaya",
"DistrictIds": ["75"]
}
1:00
{
"Id": "10",
"Name": "",
"LineName": "",
"LineColor": "0a6f20",
"CityId": "1",
"Alias": "aeroport",
"DistrictIds": ["11","26"]
}
}
Пример ошибок запроса
В случае ошибки в ID города ответ должен быть вида:
В случае ошибки в ID города ответ должен быть вида:
{
"MetroList": [0]
}
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка улиц
URL: /street/city/$cityID/
Входные параметры
Параметр 	Тип значения 	Суть 	В теле GET запроса
cityID 	Число 	Уникальный числовой идентификатор города 	Да

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/street/city/1/
Результат запроса
Массив streetList[], содержащий информацию о каждой станции
Поле 	Тип значения 	Суть
Id 	число 	Уникальный идентификатор станции метро
CityId 	Число 	Уникальный идентификатор города
Title 	строка 	Название улицы
RewriteName 	строка 	Название улицы для ЧПУ

Пример результата запроса
"StreetList":
[
{
"Id":"1",
"CityId":"1",
"Title":"",
"RewriteName":"aviamotornaya"
},
...
]
Пример ошибок запроса
В случае ошибки в ID города ответ должен быть вида:
{
"StreetList": [0]
}
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение списка услуг
URL: /json/service/list
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/service/list
Результат запроса
в Total - выводиться общее кол-во сервисов, в массиве ServiceList, данные по услугам
Поле 	Тип значения 	Суть
Id 	число 	идентификатор услуги
Name 	строка 	название услуги


Lft 	число 	левая позиция в дереве
Rgt 	число 	правая позиция в дереве
Depth 	число 	уровень вложенности
SectorId 	число 	id специализации
DiagnosticId 	число 	id диагностики, связанной с этой услугой

Пример результата запроса
{
"Total": "1",
"ServiceList":[{
"Id": "13",
"Name": " ",
"Lft": "135",
"Rgt": "136",
"Depth": "2",
"SectorId": "70",
"DiagnosticaId": null
}]
}
Получение списка элементов для поиска (автодополнение)
URL: /autocomplete
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/autocomplete/city/1/withoutClinics/1?sea
rch=
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
city 	число 	идентификатор города 	Да 	Нет
search 	строка 	текст который пытаемся найти 	Да 	Да
withoutClinics 	число 	"1 - не включать в результат поиска клиники
0 - осуществлять поиск по всем сущностям"	Нет 	Нет

Результат запроса
Поле 	Тип значения 	Суть


Search 	строка 	текст запроса
Suggestions 	массив объектов Suggestion 	список найденных элементов

Структура объекта Suggestion
Поле 	"Тип
значения"	Суть
Value 	строка 	Найденная строка
Type 	строка 	"Тип элемента:
speciality - специальность
diagnostic - диагностика
clinic - клиника
doctor - врач
service - услуга"
Id 	число 	Идентификатор сущности (врача, клиники и т.д.)
Url 	URL 	Ссылка на страницу на сайте
Clinics 	"Массив
объектов
Clinic"	"Только для врачей (Type == doctor).
Массив клиник врача с специальностями этого врача в клинике"

Структура объекта Clinic
Поле 	"Тип
значения"	Суть
Id 	Число 	Уникальный идентификатор клиники
Name 	строка 	Название клиники
Alias 	строка 	Алиас клиники
Sectors 	"Массив
объектов
Sector"	Специальности врача в данной клинике

Структура объекта Sector
Поле 	"Тип
значения"	Суть
Id 	Число 	Уникальный идентификатор специальности
Name 	строка 	Название специальности
Alias 	строка 	Алиас специальности

Пример результата запроса
{
"Search": "",
"Suggestions": [
{
"Value": "",
"Type": "speciality"
"Id": "67",
"Url": "http://docdoc.ru/doctor/akusher"
},
{
"Value": " ",
"Type": "diagnostic"
"Id": "56",
"Url": "http://diagnostica.docdoc.pro/mrt/mrt-sosudov-golovnogo-mozga/"
},
{
"Value": " ",
"Type": "clinic"
"Id": "202",
"Url": "http://docdoc.ru/clinic/akademiya_zdorovya_1"
},
{
"Value": " ",
"Type": "doctor"
"Id": "2574",
"Url": "http://docdoc.ru/doctor/Agababjan_Narine",
"Clinics": [{
"Id": 202,
"Alias": "akademiya_zdorovya_1",
"Name": " ",
"Sectors":[
{
"Id":"1",
"Name":"-",
"Alias":"akusher"
}
]
}],
},
{
"Value": " - ",
"Type": "service"
"Id": "2773",
"Url":
"http://docdoc.ru/service/travmatologiya-ortopediya/plastika-akromialno-kl
yuchichnogo-sochleneniya"
}
]
}
Примеры ошибок запроса
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение статистики
URL: /stat/city/$cityID/
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	В теле GET запроса
cityID 	Число 	Статистика для города. Если отсутствует - для всех городов 	Нет 	Да

Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/stat/
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/stat/city/1/
Результат запроса
Поле 	Тип значения 	Суть
Requests 	число 	количество заявок поданное за последние сутки
Doctors 	число 	Количество докторов в базе
Reviews 	число 	Количество отзывов в базе

Пример результата запроса
{
"Requests": "800",
"Doctors": "10000",
"Reviews": "1000"
}
Пример ошибок запроса
В результате ошибки должны получить ответ:
{
"status": "error",
"message": " "
}
Получение статической страницы
URL: /page
Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/page/about
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
alias 	строка 	название страницы 	Да 	Да

Результат запроса
Поле 	Тип значения 	Суть
Page 	объект Page 	найденый элемент

Структура объекта Page
Поле 	"Тип
значения"	Суть
Alias 	строка 	Алиас
Text 	текст 	Текст страницы (в формате HTML)

Пример результата запроса
{
"Page": {
"Alias": "about",
"Text": " html"
}
}
Примеры ошибок запроса
В случае другой ошибки, должны получить ответ
{
"status": "error",
"message": " "
}
Получение список изображений клиники
URL: /json/clinic/gallery/$clinicID/
Входные параметры
Параметр 	Тип значения 	Суть 	Обязательный 	Допускается в теле GET запроса
clinicID 	Число 	Идентификатор клиники 	Да 	Да

Пример запроса:
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/clinic/gallery/1/
Пример результата запроса
{
"ImageList":
[
{
"url":"https://s.docdoc.pro/img/clinic/photos/1_615.jpg",
"description":null
},
{
"url":"https://s.docdoc.pro/img/clinic/photos/1_617.jpg",
"description":null
},
...
]
}
Пример ошибок запроса
Ошибка если ID не указан или ID = 0:
{
"status": "error",
"message": " "
}
Ошибки если указать не корректный ID:
{
"status": "error",
"message": " ID"
}
Создание заявки
URL: /request
Пример запроса
https://LOGIN:PASSWORD@back.docdoc.ru/api/rest/1.0.6/json/request
Входные параметры
Входные параметры передаются методом POST в формате JSON
Все параметры
Поле 	Тип значения 	Суть 	Обязательный
city 	Число 	Идентификатор города 	да, если не передана клиника
doctor 	Число 	Идентификатор врача 	нет
clinic 	Число 	Идентификатор клиники 	нет
speciality 	Число 	Идентификатор специальности 	нет
diagnostics 	Число 	Идентификатор вида диагностики 	нет
service 	Число 	Идентификатор услуги 	нет
kind 	Строка 	Тип заявки ("doctor" или "diagnostic") 	нет
departure 	Число (1 или 0) 	Нужен выезд на дом 	нет
dateAdmission 	Строка 	Желаемая дата и время приёма 	нет
slotId 	Строка 	Идентификатор слота 	нет
stations 	Строка 	Список идентификаторов станций через запятую 	нет
phone 	Строка 	Телефон пользователя 	да
email 	Строка 	Email пользователя 	нет
name 	Строка 	Имя 	нет


gender 	Строка 	Пол ("male" или "female") 	нет
clientAge 	Число 	Возраст пациента 	нет
age 	Строка 	Возрастная группа ("multy", "adult", "child") 	нет
comment 	Строка 	Комментарий пациента к заявке 	нет
validate 	Число (1 или 0) 	Создать предзаявку для подтверждения телефона 	нет
validationCode 	Строка 	Код подтверждения который получен после создания предзаявки 	нет
requestId 	Число 	Идентификатор предзаявки 	нет

Типы записей
Подбор врача
Обязательные поля:
city
name
phone
Запись в клинику
Обязательные поля:
name
phone
clinic
Запись к врачу
Обязательные поля:
name
phone
doctor
clinic
Создание предзаявки (для подтверждения телефона)
Обязательные поля:
name
phone
clinic
dateAdmission или slotId (можно вместе)
validate = 1
Запись на онлайн диагностику или врача
Обязательные поля:
name
phone
clinic
dateAdmission или slotId (можно вместе)
validationCode (передается в смс'ке на указанный телефон)
requestId (передается после создания предзаявки)
Примечания:
Если заявка создается на диагностику, то нужно установить поле kind = "diagnostic"
Поле slotId означает что хотим забронировать слот (работает только для онлайн заявок)
Поле slotId означает что хотим забронировать слот (работает только для онлайн заявок)
Чтобы заявка создалась как онлайн обязательно:
передать клинику (clinic) у которой включен метод обработки онлайн или робот
передать либо врача (doctor), либо диагностику (diagnostic)
передать либо идентификатор слота (slotId), либо дату приёма (dateAdmission)
использовать только подтвержденный телефон. Т.е. нужно сделать предзаявку.
Для предотвращения повторных заявок, заявки могут быть склеены. Для обычной заявки дается 10 минут, для онлайн 30 минут.
Т.е. в течении этого периода нельзя создать ещё одну заявку
Пример запроса
{
"name": "test",
"phone": "71112224455",
"doctor": 8222,
"clinic": 46,
"slotId": "smclinic_75#69747_2016-08-22T13:30:00_2016-08-22T14:15:00",
"validate": 1
}
Результат запроса
В случае успешного запроса:
{"status":"success","message":" ","id":1}
В случае ошибки:
{"status":"error","message":"..."}
